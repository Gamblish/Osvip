{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useTimer = void 0;\n\nvar react_1 = require(\"react\");\n\nvar reducer_1 = __importDefault(require(\"./state/reducer\"));\n\nexports.useTimer = function (_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.autostart,\n      autostart = _c === void 0 ? false : _c,\n      endTime = _b.endTime,\n      _d = _b.initialTime,\n      initialTime = _d === void 0 ? 0 : _d,\n      _e = _b.interval,\n      interval = _e === void 0 ? 1000 : _e,\n      onTimeOver = _b.onTimeOver,\n      onTimeUpdate = _b.onTimeUpdate,\n      _f = _b.step,\n      step = _f === void 0 ? 1 : _f,\n      _g = _b.timerType,\n      timerType = _g === void 0 ? 'INCREMENTAL' : _g;\n\n  var _h = react_1.useReducer(reducer_1.default, {\n    status: 'STOPPED',\n    time: initialTime,\n    timerType: timerType\n  }),\n      state = _h[0],\n      dispatch = _h[1];\n\n  var status = state.status,\n      time = state.time;\n  var advanceTime = react_1.useCallback(function (timeToAdd) {\n    dispatch({\n      type: 'advanceTime',\n      payload: {\n        timeToAdd: timeToAdd\n      }\n    });\n  }, []);\n  var pause = react_1.useCallback(function () {\n    dispatch({\n      type: 'pause'\n    });\n  }, []);\n  var reset = react_1.useCallback(function () {\n    dispatch({\n      type: 'reset',\n      payload: {\n        initialTime: initialTime\n      }\n    });\n  }, [initialTime]);\n  var start = react_1.useCallback(function () {\n    dispatch({\n      type: 'start',\n      payload: {\n        initialTime: initialTime\n      }\n    });\n  }, []);\n  react_1.useEffect(function () {\n    if (autostart) {\n      dispatch({\n        type: 'start',\n        payload: {\n          initialTime: initialTime\n        }\n      });\n    }\n  }, [autostart]);\n  react_1.useEffect(function () {\n    if (typeof onTimeUpdate === 'function') {\n      onTimeUpdate(time);\n    }\n  }, [time]);\n  react_1.useEffect(function () {\n    if (status !== 'STOPPED' && time === endTime) {\n      dispatch({\n        type: 'stop'\n      });\n\n      if (typeof onTimeOver === 'function') {\n        onTimeOver();\n      }\n    }\n  }, [endTime, onTimeOver, time, status]);\n  react_1.useEffect(function () {\n    var intervalId = null;\n\n    if (status === 'RUNNING') {\n      intervalId = setInterval(function () {\n        dispatch({\n          type: 'set',\n          payload: {\n            newTime: timerType === 'DECREMENTAL' ? time - step : time + step\n          }\n        });\n      }, interval);\n    } else if (intervalId) {\n      clearInterval(intervalId);\n    }\n\n    return function () {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [status, step, timerType, interval, time]);\n  return {\n    advanceTime: advanceTime,\n    pause: pause,\n    reset: reset,\n    start: start,\n    status: status,\n    time: time\n  };\n};","map":{"version":3,"sources":["/Applications/Osvip/osvip/node_modules/use-timer/lib/useTimer.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","useTimer","react_1","require","reducer_1","_a","_b","_c","autostart","endTime","_d","initialTime","_e","interval","onTimeOver","onTimeUpdate","_f","step","_g","timerType","_h","useReducer","default","status","time","state","dispatch","advanceTime","useCallback","timeToAdd","type","payload","pause","reset","start","useEffect","intervalId","setInterval","newTime","clearInterval"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,QAAR,GAAmB,KAAK,CAAxB;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,SAAS,GAAGV,eAAe,CAACS,OAAO,CAAC,iBAAD,CAAR,CAA/B;;AACAJ,OAAO,CAACE,QAAR,GAAmB,UAAUI,EAAV,EAAc;AAC7B,MAAIC,EAAE,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9B;AAAA,MAAkCE,EAAE,GAAGD,EAAE,CAACE,SAA1C;AAAA,MAAqDA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EAAzF;AAAA,MAA6FE,OAAO,GAAGH,EAAE,CAACG,OAA1G;AAAA,MAAmHC,EAAE,GAAGJ,EAAE,CAACK,WAA3H;AAAA,MAAwIA,WAAW,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAA1K;AAAA,MAA8KE,EAAE,GAAGN,EAAE,CAACO,QAAtL;AAAA,MAAgMA,QAAQ,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAAlO;AAAA,MAAsOE,UAAU,GAAGR,EAAE,CAACQ,UAAtP;AAAA,MAAkQC,YAAY,GAAGT,EAAE,CAACS,YAApR;AAAA,MAAkSC,EAAE,GAAGV,EAAE,CAACW,IAA1S;AAAA,MAAgTA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,EAA3U;AAAA,MAA+UE,EAAE,GAAGZ,EAAE,CAACa,SAAvV;AAAA,MAAkWA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,aAAhB,GAAgCA,EAA9Y;;AACA,MAAIE,EAAE,GAAGlB,OAAO,CAACmB,UAAR,CAAmBjB,SAAS,CAACkB,OAA7B,EAAsC;AAC3CC,IAAAA,MAAM,EAAE,SADmC;AAE3CC,IAAAA,IAAI,EAAEb,WAFqC;AAG3CQ,IAAAA,SAAS,EAAEA;AAHgC,GAAtC,CAAT;AAAA,MAIIM,KAAK,GAAGL,EAAE,CAAC,CAAD,CAJd;AAAA,MAImBM,QAAQ,GAAGN,EAAE,CAAC,CAAD,CAJhC;;AAKA,MAAIG,MAAM,GAAGE,KAAK,CAACF,MAAnB;AAAA,MAA2BC,IAAI,GAAGC,KAAK,CAACD,IAAxC;AACA,MAAIG,WAAW,GAAGzB,OAAO,CAAC0B,WAAR,CAAoB,UAAUC,SAAV,EAAqB;AACvDH,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAE,aAAR;AAAuBC,MAAAA,OAAO,EAAE;AAAEF,QAAAA,SAAS,EAAEA;AAAb;AAAhC,KAAD,CAAR;AACH,GAFiB,EAEf,EAFe,CAAlB;AAGA,MAAIG,KAAK,GAAG9B,OAAO,CAAC0B,WAAR,CAAoB,YAAY;AACxCF,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACH,GAFW,EAET,EAFS,CAAZ;AAGA,MAAIG,KAAK,GAAG/B,OAAO,CAAC0B,WAAR,CAAoB,YAAY;AACxCF,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,OAAO,EAAE;AAAEpB,QAAAA,WAAW,EAAEA;AAAf;AAA1B,KAAD,CAAR;AACH,GAFW,EAET,CAACA,WAAD,CAFS,CAAZ;AAGA,MAAIuB,KAAK,GAAGhC,OAAO,CAAC0B,WAAR,CAAoB,YAAY;AACxCF,IAAAA,QAAQ,CAAC;AAAEI,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,OAAO,EAAE;AAAEpB,QAAAA,WAAW,EAAEA;AAAf;AAA1B,KAAD,CAAR;AACH,GAFW,EAET,EAFS,CAAZ;AAGAT,EAAAA,OAAO,CAACiC,SAAR,CAAkB,YAAY;AAC1B,QAAI3B,SAAJ,EAAe;AACXkB,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,OAAO,EAAE;AAAEpB,UAAAA,WAAW,EAAEA;AAAf;AAA1B,OAAD,CAAR;AACH;AACJ,GAJD,EAIG,CAACH,SAAD,CAJH;AAKAN,EAAAA,OAAO,CAACiC,SAAR,CAAkB,YAAY;AAC1B,QAAI,OAAOpB,YAAP,KAAwB,UAA5B,EAAwC;AACpCA,MAAAA,YAAY,CAACS,IAAD,CAAZ;AACH;AACJ,GAJD,EAIG,CAACA,IAAD,CAJH;AAKAtB,EAAAA,OAAO,CAACiC,SAAR,CAAkB,YAAY;AAC1B,QAAIZ,MAAM,KAAK,SAAX,IAAwBC,IAAI,KAAKf,OAArC,EAA8C;AAC1CiB,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;;AACA,UAAI,OAAOhB,UAAP,KAAsB,UAA1B,EAAsC;AAClCA,QAAAA,UAAU;AACb;AACJ;AACJ,GAPD,EAOG,CAACL,OAAD,EAAUK,UAAV,EAAsBU,IAAtB,EAA4BD,MAA5B,CAPH;AAQArB,EAAAA,OAAO,CAACiC,SAAR,CAAkB,YAAY;AAC1B,QAAIC,UAAU,GAAG,IAAjB;;AACA,QAAIb,MAAM,KAAK,SAAf,EAA0B;AACtBa,MAAAA,UAAU,GAAGC,WAAW,CAAC,YAAY;AACjCX,QAAAA,QAAQ,CAAC;AACLI,UAAAA,IAAI,EAAE,KADD;AAELC,UAAAA,OAAO,EAAE;AACLO,YAAAA,OAAO,EAAEnB,SAAS,KAAK,aAAd,GAA8BK,IAAI,GAAGP,IAArC,GAA4CO,IAAI,GAAGP;AADvD;AAFJ,SAAD,CAAR;AAMH,OAPuB,EAOrBJ,QAPqB,CAAxB;AAQH,KATD,MAUK,IAAIuB,UAAJ,EAAgB;AACjBG,MAAAA,aAAa,CAACH,UAAD,CAAb;AACH;;AACD,WAAO,YAAY;AACf,UAAIA,UAAJ,EAAgB;AACZG,QAAAA,aAAa,CAACH,UAAD,CAAb;AACH;AACJ,KAJD;AAKH,GApBD,EAoBG,CAACb,MAAD,EAASN,IAAT,EAAeE,SAAf,EAA0BN,QAA1B,EAAoCW,IAApC,CApBH;AAqBA,SAAO;AAAEG,IAAAA,WAAW,EAAEA,WAAf;AAA4BK,IAAAA,KAAK,EAAEA,KAAnC;AAA0CC,IAAAA,KAAK,EAAEA,KAAjD;AAAwDC,IAAAA,KAAK,EAAEA,KAA/D;AAAsEX,IAAAA,MAAM,EAAEA,MAA9E;AAAsFC,IAAAA,IAAI,EAAEA;AAA5F,GAAP;AACH,CA5DD","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useTimer = void 0;\nvar react_1 = require(\"react\");\nvar reducer_1 = __importDefault(require(\"./state/reducer\"));\nexports.useTimer = function (_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.autostart, autostart = _c === void 0 ? false : _c, endTime = _b.endTime, _d = _b.initialTime, initialTime = _d === void 0 ? 0 : _d, _e = _b.interval, interval = _e === void 0 ? 1000 : _e, onTimeOver = _b.onTimeOver, onTimeUpdate = _b.onTimeUpdate, _f = _b.step, step = _f === void 0 ? 1 : _f, _g = _b.timerType, timerType = _g === void 0 ? 'INCREMENTAL' : _g;\n    var _h = react_1.useReducer(reducer_1.default, {\n        status: 'STOPPED',\n        time: initialTime,\n        timerType: timerType,\n    }), state = _h[0], dispatch = _h[1];\n    var status = state.status, time = state.time;\n    var advanceTime = react_1.useCallback(function (timeToAdd) {\n        dispatch({ type: 'advanceTime', payload: { timeToAdd: timeToAdd } });\n    }, []);\n    var pause = react_1.useCallback(function () {\n        dispatch({ type: 'pause' });\n    }, []);\n    var reset = react_1.useCallback(function () {\n        dispatch({ type: 'reset', payload: { initialTime: initialTime } });\n    }, [initialTime]);\n    var start = react_1.useCallback(function () {\n        dispatch({ type: 'start', payload: { initialTime: initialTime } });\n    }, []);\n    react_1.useEffect(function () {\n        if (autostart) {\n            dispatch({ type: 'start', payload: { initialTime: initialTime } });\n        }\n    }, [autostart]);\n    react_1.useEffect(function () {\n        if (typeof onTimeUpdate === 'function') {\n            onTimeUpdate(time);\n        }\n    }, [time]);\n    react_1.useEffect(function () {\n        if (status !== 'STOPPED' && time === endTime) {\n            dispatch({ type: 'stop' });\n            if (typeof onTimeOver === 'function') {\n                onTimeOver();\n            }\n        }\n    }, [endTime, onTimeOver, time, status]);\n    react_1.useEffect(function () {\n        var intervalId = null;\n        if (status === 'RUNNING') {\n            intervalId = setInterval(function () {\n                dispatch({\n                    type: 'set',\n                    payload: {\n                        newTime: timerType === 'DECREMENTAL' ? time - step : time + step,\n                    },\n                });\n            }, interval);\n        }\n        else if (intervalId) {\n            clearInterval(intervalId);\n        }\n        return function () {\n            if (intervalId) {\n                clearInterval(intervalId);\n            }\n        };\n    }, [status, step, timerType, interval, time]);\n    return { advanceTime: advanceTime, pause: pause, reset: reset, start: start, status: status, time: time };\n};\n"]},"metadata":{},"sourceType":"script"}
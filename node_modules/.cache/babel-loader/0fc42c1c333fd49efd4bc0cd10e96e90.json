{"ast":null,"code":"var _jsxFileName = \"/Applications/Osvip/osvip/src/App.js\",\n    _s = $RefreshSig$();\n\nimport MenuBar from \"./Components/MenuBar\";\nimport Transfer from \"./Pages/Transfer\";\nimport { Context } from \"./Context\";\nimport { BrowserRouter as Router, Route, Routes, Link, Outlet, useLocation } from 'react-router-dom';\nimport Home from \"./Pages/Home\";\nimport { useEffect, useState, useRef } from \"react\";\nimport TDirection from \"./Pages/TDirection\";\nimport Tests from \"./Pages/Tests\";\nimport Contacts from \"./Pages/Contacts\";\nimport NotFound from \"./Pages/NotFound\";\nimport Login from \"./Components/Login\";\nimport './App.css';\nimport Store from \"./store/Store\";\nimport api, { API_URL } from \"./http\";\nimport AuthService from \"./services/AuthService\";\nimport Profile from \"./Pages/Profile\";\nimport { useLayoutEffect } from \"react\";\nimport Test from \"./Components/Test\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [currentPage, setCurrentPage] = useState('/');\n  const [modalActive, setModalActive] = useState(false);\n  const [store, setStore] = useState(new Store());\n  const [Auth, setAuth] = useState(false);\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [imgPath, setImgPath] = useState();\n  const [testActivated, setTestActivated] = useState(false);\n\n  function isAuth(data) {\n    setLoading(true);\n    setAuth(true);\n    setUserData(data['userInfo']);\n    setImgPath(data['userInfo'].imgPath);\n    setTestActivated(data.isNowTesting);\n    console.log(data);\n  }\n\n  useLayoutEffect(async () => await api.get(API_URL + '/user/info').then(response => {\n    isAuth(response.data);\n    setLoading(false);\n  }).catch(() => setUserData('X')).finally(() => setLoading(false)), []); //useLayoutEffect(() => api.get(API_URL + '/user/info').then(response =>\n  //response.status == 200 ?\n  //setUserData(response.data['userInfo']) : null\n  // ), [Auth])\n\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      currentPage,\n      setCurrentPage,\n      store,\n      userData,\n      Auth,\n      setAuth,\n      setModalActive,\n      loading,\n      setLoading,\n      modalActive,\n      setUserData,\n      imgPath,\n      setImgPath,\n      testActivated\n    },\n    children: userData != null ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: modalActive ? 'App__PageBlured' : null,\n        children: /*#__PURE__*/_jsxDEV(Router, {\n          children: [currentPage == \"*\" ? null : /*#__PURE__*/_jsxDEV(MenuBar, {\n            currentPage: currentPage,\n            active: modalActive,\n            setActive: setModalActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: currentPage === '*' ? null : 'PageContainer',\n            children: /*#__PURE__*/_jsxDEV(Routes, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                path: \"/pisa\",\n                element: /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 48\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/\",\n                element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 44\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/tdirection\",\n                element: /*#__PURE__*/_jsxDEV(TDirection, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 54\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this), Auth ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Route, {\n                  path: \"/transfer\",\n                  element: /*#__PURE__*/_jsxDEV(Transfer, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 56\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 23\n                }, this), userData.result == null ? /*#__PURE__*/_jsxDEV(Route, {\n                  path: !testActivated ? '/tests' : '/pisa',\n                  element: /*#__PURE__*/_jsxDEV(Tests, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 109\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 50\n                }, this) : null, userData.result == null ? /*#__PURE__*/_jsxDEV(Route, {\n                  path: \"/pisa\",\n                  element: /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 79\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 50\n                }, this) : null, /*#__PURE__*/_jsxDEV(Route, {\n                  path: \"/profile\",\n                  element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 55\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : null, /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/contacts\",\n                element: /*#__PURE__*/_jsxDEV(Contacts, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"*\",\n                element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 44\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Login, {\n        Active: modalActive,\n        setActive: setModalActive\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Tpr2GikzimFRNU5/3PJWUm8lRa4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Applications/Osvip/osvip/src/App.js"],"names":["MenuBar","Transfer","Context","BrowserRouter","Router","Route","Routes","Link","Outlet","useLocation","Home","useEffect","useState","useRef","TDirection","Tests","Contacts","NotFound","Login","Store","api","API_URL","AuthService","Profile","useLayoutEffect","Test","App","currentPage","setCurrentPage","modalActive","setModalActive","store","setStore","Auth","setAuth","userData","setUserData","loading","setLoading","imgPath","setImgPath","testActivated","setTestActivated","isAuth","data","isNowTesting","console","log","get","then","response","catch","finally","result"],"mappings":"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","sourcesContent":["\nimport MenuBar from \"./Components/MenuBar\";\nimport Transfer from \"./Pages/Transfer\";\n\nimport { Context } from \"./Context\";\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Routes,\n  Link,\n  Outlet,\n  useLocation\n} from 'react-router-dom';\nimport Home from \"./Pages/Home\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport TDirection from \"./Pages/TDirection\";\n\nimport Tests from \"./Pages/Tests\";\nimport Contacts from \"./Pages/Contacts\";\nimport NotFound from \"./Pages/NotFound\";\nimport Login from \"./Components/Login\";\nimport './App.css'\nimport Store from \"./store/Store\";\nimport api, { API_URL } from \"./http\";\nimport AuthService from \"./services/AuthService\";\nimport Profile from \"./Pages/Profile\";\nimport { useLayoutEffect } from \"react\";\nimport Test from \"./Components/Test\";\n\n\n\n\n\n\nfunction App() {\n\n\n  const [currentPage, setCurrentPage] = useState('/');\n  const [modalActive, setModalActive] = useState(false)\n  const [store, setStore] = useState(new Store())\n  const [Auth, setAuth] = useState(false)\n  const [userData, setUserData] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [imgPath, setImgPath] = useState()\n  const [testActivated, setTestActivated] = useState(false)\n\n\n  function isAuth(data) {\n    setLoading(true)\n    setAuth(true)\n\n    setUserData(data['userInfo'])\n    setImgPath(data['userInfo'].imgPath)\n    setTestActivated(data.isNowTesting)\n    console.log(data)\n\n\n\n\n\n\n\n  }\n\n\n\n  useLayoutEffect(async () => await api.get(API_URL + '/user/info').then(response => {\n\n    isAuth(response.data)\n    setLoading(false)\n\n\n\n  }\n\n\n  ).catch(() => setUserData('X')).finally(() => setLoading(false)), [])\n  //useLayoutEffect(() => api.get(API_URL + '/user/info').then(response =>\n  //response.status == 200 ?\n  //setUserData(response.data['userInfo']) : null\n  // ), [Auth])\n\n  return (\n    <Context.Provider value={{ currentPage, setCurrentPage, store, userData, Auth, setAuth, setModalActive, loading, setLoading, modalActive, setUserData, imgPath, setImgPath, testActivated }}>\n      {userData != null ?\n        <div className=\"App\">\n\n\n          <div className={modalActive ? 'App__PageBlured' : null}>\n\n            <Router>\n\n              {currentPage == \"*\" ? null : <MenuBar currentPage={currentPage} active={modalActive} setActive={setModalActive} />}\n              <div className={currentPage === '*' ? null : 'PageContainer'} >\n                <Routes>\n                  <Route path='/pisa' element={<Test />} />\n                  <Route path='/' element={<Home />} />\n                  <Route path='/tdirection' element={<TDirection />} />\n                  {Auth ?\n                    <><Route path='/transfer' element={<Transfer />} />\n                      {userData.result == null ? <Route path={!testActivated ? '/tests' : '/pisa'} element={<Tests />} /> : null}\n                      {userData.result == null ? <Route path='/pisa' element={<Test />} /> : null}\n                      <Route path='/profile' element={<Profile />} /></> : null}\n                  <Route path='/contacts' element={<Contacts />} />\n                  <Route path='*' element={<NotFound />} />\n\n\n                </Routes>\n\n              </div>\n\n            </Router>\n          </div>\n          <Login Active={modalActive} setActive={setModalActive} />\n\n        </div>\n        : null}\n    </Context.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}